{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 91, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ASUS/Desktop/xheck/seesim/lib/supabase/server.ts"],"sourcesContent":["import { cookies } from \"next/headers\";\nimport { createServerClient } from \"@supabase/ssr\";\n\nexport function createSupabaseServer() {\n  const cookieStore: any = cookies() as any;\n  return createServerClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n    {\n      cookies: {\n        get(name: string) {\n          return cookieStore.get(name)?.value;\n        },\n      },\n    }\n  );\n}\n\nexport async function getServerSession() {\n  const supabase = createSupabaseServer();\n  const {\n    data: { session },\n  } = await supabase.auth.getSession();\n  return session ?? null;\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AAAA;;;AAEO,SAAS;IACd,MAAM,cAAmB,IAAA,sJAAO;IAChC,OAAO,IAAA,iMAAkB,sUAGvB;QACE,SAAS;YACP,KAAI,IAAY;gBACd,OAAO,YAAY,GAAG,CAAC,OAAO;YAChC;QACF;IACF;AAEJ;AAEO,eAAe;IACpB,MAAM,WAAW;IACjB,MAAM,EACJ,MAAM,EAAE,OAAO,EAAE,EAClB,GAAG,MAAM,SAAS,IAAI,CAAC,UAAU;IAClC,OAAO,WAAW;AACpB","debugId":null}},
    {"offset": {"line": 121, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ASUS/Desktop/xheck/seesim/app/api/conversations/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\nimport { createSupabaseServer } from \"@/lib/supabase/server\";\n\nexport async function GET() {\n  const supabase = createSupabaseServer();\n  const {\n    data: { user },\n  } = await supabase.auth.getUser();\n  if (!user) return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 });\n\n  const { data, error } = await supabase\n    .from(\"conversations\")\n    .select(\"id, prompt, results, image_url, file_name, file_type, created_at\")\n    .eq(\"user_id\", user.id)\n    .order(\"created_at\", { ascending: false });\n  if (error) return NextResponse.json({ error: error.message }, { status: 500 });\n  return NextResponse.json({ conversations: data ?? [] });\n}\n\nexport async function POST(req: Request) {\n  const supabase = createSupabaseServer();\n  const {\n    data: { user },\n  } = await supabase.auth.getUser();\n  if (!user) return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 });\n\n  const body = await req.json();\n  const { prompt, results, image_url, file_name, file_type } = body || {};\n  if (!prompt || typeof prompt !== \"string\")\n    return NextResponse.json({ error: \"Invalid prompt\" }, { status: 400 });\n  if (!Array.isArray(results))\n    return NextResponse.json({ error: \"Invalid results\" }, { status: 400 });\n\n  const { data, error } = await supabase\n    .from(\"conversations\")\n    .insert({ user_id: user.id, prompt, results, image_url: image_url || null, file_name: file_name || null, file_type: file_type || null })\n    .select(\"id, created_at\")\n    .single();\n  if (error) return NextResponse.json({ error: error.message }, { status: 500 });\n  return NextResponse.json({ id: data.id, created_at: data.created_at });\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,eAAe;IACpB,MAAM,WAAW,IAAA,6JAAoB;IACrC,MAAM,EACJ,MAAM,EAAE,IAAI,EAAE,EACf,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;IAC/B,IAAI,CAAC,MAAM,OAAO,0JAAY,CAAC,IAAI,CAAC;QAAE,OAAO;IAAe,GAAG;QAAE,QAAQ;IAAI;IAE7E,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAC3B,IAAI,CAAC,iBACL,MAAM,CAAC,oEACP,EAAE,CAAC,WAAW,KAAK,EAAE,EACrB,KAAK,CAAC,cAAc;QAAE,WAAW;IAAM;IAC1C,IAAI,OAAO,OAAO,0JAAY,CAAC,IAAI,CAAC;QAAE,OAAO,MAAM,OAAO;IAAC,GAAG;QAAE,QAAQ;IAAI;IAC5E,OAAO,0JAAY,CAAC,IAAI,CAAC;QAAE,eAAe,QAAQ,EAAE;IAAC;AACvD;AAEO,eAAe,KAAK,GAAY;IACrC,MAAM,WAAW,IAAA,6JAAoB;IACrC,MAAM,EACJ,MAAM,EAAE,IAAI,EAAE,EACf,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;IAC/B,IAAI,CAAC,MAAM,OAAO,0JAAY,CAAC,IAAI,CAAC;QAAE,OAAO;IAAe,GAAG;QAAE,QAAQ;IAAI;IAE7E,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,GAAG,QAAQ,CAAC;IACtE,IAAI,CAAC,UAAU,OAAO,WAAW,UAC/B,OAAO,0JAAY,CAAC,IAAI,CAAC;QAAE,OAAO;IAAiB,GAAG;QAAE,QAAQ;IAAI;IACtE,IAAI,CAAC,MAAM,OAAO,CAAC,UACjB,OAAO,0JAAY,CAAC,IAAI,CAAC;QAAE,OAAO;IAAkB,GAAG;QAAE,QAAQ;IAAI;IAEvE,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAC3B,IAAI,CAAC,iBACL,MAAM,CAAC;QAAE,SAAS,KAAK,EAAE;QAAE;QAAQ;QAAS,WAAW,aAAa;QAAM,WAAW,aAAa;QAAM,WAAW,aAAa;IAAK,GACrI,MAAM,CAAC,kBACP,MAAM;IACT,IAAI,OAAO,OAAO,0JAAY,CAAC,IAAI,CAAC;QAAE,OAAO,MAAM,OAAO;IAAC,GAAG;QAAE,QAAQ;IAAI;IAC5E,OAAO,0JAAY,CAAC,IAAI,CAAC;QAAE,IAAI,KAAK,EAAE;QAAE,YAAY,KAAK,UAAU;IAAC;AACtE","debugId":null}}]
}