{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 91, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ASUS/Desktop/xheck/seesim/lib/supabase/server.ts"],"sourcesContent":["import { cookies } from \"next/headers\";\nimport { createServerClient } from \"@supabase/ssr\";\n\nexport function createSupabaseServer() {\n  const cookieStore: any = cookies() as any;\n  return createServerClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n    {\n      cookies: {\n        get(name: string) {\n          return cookieStore.get(name)?.value;\n        },\n      },\n    }\n  );\n}\n\nexport async function getServerSession() {\n  const supabase = createSupabaseServer();\n  const {\n    data: { session },\n  } = await supabase.auth.getSession();\n  return session ?? null;\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AAAA;;;AAEO,SAAS;IACd,MAAM,cAAmB,IAAA,sJAAO;IAChC,OAAO,IAAA,iMAAkB,sUAGvB;QACE,SAAS;YACP,KAAI,IAAY;gBACd,OAAO,YAAY,GAAG,CAAC,OAAO;YAChC;QACF;IACF;AAEJ;AAEO,eAAe;IACpB,MAAM,WAAW;IACjB,MAAM,EACJ,MAAM,EAAE,OAAO,EAAE,EAClB,GAAG,MAAM,SAAS,IAAI,CAAC,UAAU;IAClC,OAAO,WAAW;AACpB","debugId":null}},
    {"offset": {"line": 121, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ASUS/Desktop/xheck/seesim/app/api/llms/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\nimport { z } from \"zod\";\nimport { createSupabaseServer } from \"@/lib/supabase/server\";\n\n// Normalize various paste formats from OpenRouter into a slug like\n// provider/model[:variant] (e.g., google/gemma-3-1-4-it:free)\nfunction normalizeOpenRouterSlug(input: string): string {\n  let s = (input || \"\").trim();\n  // If a URL is pasted, extract the last path segment\n  try {\n    if (/^https?:\\/\\//i.test(s)) {\n      const u = new URL(s);\n      const parts = u.pathname.split(\"/\").filter(Boolean);\n      // common: /models/<slug>\n      const maybeModelsIdx = parts.findIndex((p) => p.toLowerCase() === \"models\");\n      if (maybeModelsIdx !== -1 && parts[maybeModelsIdx + 1]) {\n        s = parts[maybeModelsIdx + 1];\n      } else {\n        s = parts.pop() || s;\n      }\n    }\n  } catch {\n    // ignore URL parsing errors, fallback to raw string\n  }\n  // Extract first slug-like token if extra text present\n  const m = s.match(/[A-Za-z0-9._-]+\\/[A-Za-z0-9._-]+(?::[A-Za-z0-9._-]+)?/);\n  if (m) s = m[0];\n  return s.toLowerCase();\n}\n\nconst BodySchema = z.object({\n  model_name: z.string().min(1),\n  api_key: z.string().min(1),\n  nickname: z.string().optional().nullable(),\n});\n\nexport async function GET() {\n  const supabase = createSupabaseServer();\n  const {\n    data: { user },\n    error: uerr,\n  } = await supabase.auth.getUser();\n  if (uerr || !user) return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 });\n\n  const { data, error } = await supabase\n    .from(\"llms\")\n    .select(\"id, user_id, model_name, nickname, created_at\")\n    .order(\"created_at\", { ascending: false });\n  if (error) return NextResponse.json({ error: error.message }, { status: 500 });\n  return NextResponse.json({ llms: data });\n}\n\nexport async function POST(req: Request) {\n  const supabase = createSupabaseServer();\n  const {\n    data: { user },\n  } = await supabase.auth.getUser();\n  if (!user) return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 });\n\n  const json = await req.json();\n  const parsed = BodySchema.safeParse(json);\n  if (!parsed.success) {\n    return NextResponse.json({ error: parsed.error.flatten() }, { status: 400 });\n  }\n  const { model_name, api_key, nickname } = parsed.data;\n  const normalizedModel = normalizeOpenRouterSlug(model_name);\n\n  const { data, error } = await supabase\n    .from(\"llms\")\n    .insert({ user_id: user.id, model_name: normalizedModel, api_key, nickname })\n    .select(\"id, user_id, model_name, nickname, created_at\")\n    .single();\n  if (error) return NextResponse.json({ error: error.message }, { status: 500 });\n  return NextResponse.json({ llm: data });\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;;;;AAEA,mEAAmE;AACnE,8DAA8D;AAC9D,SAAS,wBAAwB,KAAa;IAC5C,IAAI,IAAI,CAAC,SAAS,EAAE,EAAE,IAAI;IAC1B,oDAAoD;IACpD,IAAI;QACF,IAAI,gBAAgB,IAAI,CAAC,IAAI;YAC3B,MAAM,IAAI,IAAI,IAAI;YAClB,MAAM,QAAQ,EAAE,QAAQ,CAAC,KAAK,CAAC,KAAK,MAAM,CAAC;YAC3C,yBAAyB;YACzB,MAAM,iBAAiB,MAAM,SAAS,CAAC,CAAC,IAAM,EAAE,WAAW,OAAO;YAClE,IAAI,mBAAmB,CAAC,KAAK,KAAK,CAAC,iBAAiB,EAAE,EAAE;gBACtD,IAAI,KAAK,CAAC,iBAAiB,EAAE;YAC/B,OAAO;gBACL,IAAI,MAAM,GAAG,MAAM;YACrB;QACF;IACF,EAAE,OAAM;IACN,oDAAoD;IACtD;IACA,sDAAsD;IACtD,MAAM,IAAI,EAAE,KAAK,CAAC;IAClB,IAAI,GAAG,IAAI,CAAC,CAAC,EAAE;IACf,OAAO,EAAE,WAAW;AACtB;AAEA,MAAM,aAAa,oLAAC,CAAC,MAAM,CAAC;IAC1B,YAAY,oLAAC,CAAC,MAAM,GAAG,GAAG,CAAC;IAC3B,SAAS,oLAAC,CAAC,MAAM,GAAG,GAAG,CAAC;IACxB,UAAU,oLAAC,CAAC,MAAM,GAAG,QAAQ,GAAG,QAAQ;AAC1C;AAEO,eAAe;IACpB,MAAM,WAAW,IAAA,6JAAoB;IACrC,MAAM,EACJ,MAAM,EAAE,IAAI,EAAE,EACd,OAAO,IAAI,EACZ,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;IAC/B,IAAI,QAAQ,CAAC,MAAM,OAAO,0JAAY,CAAC,IAAI,CAAC;QAAE,OAAO;IAAe,GAAG;QAAE,QAAQ;IAAI;IAErF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAC3B,IAAI,CAAC,QACL,MAAM,CAAC,iDACP,KAAK,CAAC,cAAc;QAAE,WAAW;IAAM;IAC1C,IAAI,OAAO,OAAO,0JAAY,CAAC,IAAI,CAAC;QAAE,OAAO,MAAM,OAAO;IAAC,GAAG;QAAE,QAAQ;IAAI;IAC5E,OAAO,0JAAY,CAAC,IAAI,CAAC;QAAE,MAAM;IAAK;AACxC;AAEO,eAAe,KAAK,GAAY;IACrC,MAAM,WAAW,IAAA,6JAAoB;IACrC,MAAM,EACJ,MAAM,EAAE,IAAI,EAAE,EACf,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;IAC/B,IAAI,CAAC,MAAM,OAAO,0JAAY,CAAC,IAAI,CAAC;QAAE,OAAO;IAAe,GAAG;QAAE,QAAQ;IAAI;IAE7E,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,MAAM,SAAS,WAAW,SAAS,CAAC;IACpC,IAAI,CAAC,OAAO,OAAO,EAAE;QACnB,OAAO,0JAAY,CAAC,IAAI,CAAC;YAAE,OAAO,OAAO,KAAK,CAAC,OAAO;QAAG,GAAG;YAAE,QAAQ;QAAI;IAC5E;IACA,MAAM,EAAE,UAAU,EAAE,OAAO,EAAE,QAAQ,EAAE,GAAG,OAAO,IAAI;IACrD,MAAM,kBAAkB,wBAAwB;IAEhD,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAC3B,IAAI,CAAC,QACL,MAAM,CAAC;QAAE,SAAS,KAAK,EAAE;QAAE,YAAY;QAAiB;QAAS;IAAS,GAC1E,MAAM,CAAC,iDACP,MAAM;IACT,IAAI,OAAO,OAAO,0JAAY,CAAC,IAAI,CAAC;QAAE,OAAO,MAAM,OAAO;IAAC,GAAG;QAAE,QAAQ;IAAI;IAC5E,OAAO,0JAAY,CAAC,IAAI,CAAC;QAAE,KAAK;IAAK;AACvC","debugId":null}}]
}